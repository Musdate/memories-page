import{b as P}from"./chunk-W6CDIVRV.js";import{a as O}from"./chunk-WKARWWOO.js";import{a as G}from"./chunk-IZGYBH2K.js";import{d as M,e as y,i as _}from"./chunk-3SD2HFRY.js";import{a as S,b as L,c as n,d as F,e as k,g as x,j as R,m as N,o as E,p as U}from"./chunk-6424UODT.js";import{b as w}from"./chunk-ZIYSPSZR.js";import"./chunk-POUALIHI.js";import{Ba as b,Pa as h,Qa as C,R as i,Ua as m,Va as r,Wa as l,Xa as d,ab as v,ea as f,gb as s,jb as p,ra as a}from"./chunk-WIJM5ZBD.js";import"./chunk-C6Q5SG76.js";var D=()=>["/reset-password"],I=()=>["/auth/register"];function A(c,e){c&1&&d(0,"app-loading")}var u=class c{fb=i(E);router=i(M);authService=i(O);alertService=i(w);isLoading=f(!1);loginForm=this.fb.group({email:["admin@gmail.com",[n.required,n.email]],password:["123456",[n.required,n.minLength(6),n.maxLength(20)]],rememberMe:[!1]});ngOnInit(){this.loadRememberedUser()}loadRememberedUser(){let e=localStorage.getItem("rememberedUser");e&&this.loginForm.patchValue({email:e,rememberMe:!0})}onLogin(){if(this.loginForm.invalid){this.alertService.showError({text:"Credenciales incorrectas.",timer:2e3});return}let{email:e="",password:t="",rememberMe:o=!1}=this.loginForm.value;o?localStorage.setItem("rememberedUser",e):localStorage.removeItem("rememberedUser"),this.isLoading.set(!0),this.authService.login(e,t).subscribe({next:g=>{if(g){this.router.navigateByUrl(P.landing);return}},error:()=>{this.alertService.showError({text:"Credenciales incorrectas.",timer:2e3}),this.isLoading.set(!1)},complete:()=>{this.isLoading.set(!1)}})}static \u0275fac=function(t){return new(t||c)};static \u0275cmp=b({type:c,selectors:[["app-login"]],decls:15,vars:7,consts:[[1,"container","layout"],[3,"ngSubmit","formGroup"],["id","email","type","email","formControlName","email","placeholder","Email",1,"input-form","email"],["id","password","type","password","formControlName","password","placeholder","Contrase\xF1a",1,"input-form","password"],[1,"remember-container"],["id","rememberMe","type","checkbox","formControlName","rememberMe",1,"form-remember"],["for","rememberMe"],["type","submit",1,"primary-btn",3,"disabled"],[3,"routerLink"]],template:function(t,o){t&1&&(h(0,A,1,0,"app-loading"),r(1,"div",0)(2,"form",1),v("ngSubmit",function(){return o.onLogin()}),d(3,"input",2)(4,"input",3),r(5,"div",4),d(6,"input",5),r(7,"label",6),s(8," Recuerdame "),l()(),r(9,"button",7),s(10," INGRESAR "),l(),r(11,"a",8),s(12," Olvid\xE9 mi contrase\xF1a "),l(),r(13,"a",8),s(14," Crear Cuenta "),l()()()),t&2&&(C(o.isLoading()?0:-1),a(2),m("formGroup",o.loginForm),a(7),m("disabled",o.loginForm.invalid),a(2),m("routerLink",p(5,D)),a(2),m("routerLink",p(6,I)))},dependencies:[_,y,U,x,L,S,F,k,R,N,G],styles:['@font-face{font-family:Roboto;src:url(/assets/fonts/Roboto.woff2) format("woff2"),url(/assets/fonts/Roboto.woff) format("woff");font-weight:400;font-style:normal;font-display:swap}.layout[_ngcontent-%COMP%]{width:27.5rem}.layout[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]{width:100%;height:4.5rem;padding:0rem 1.5rem;border-radius:1rem;border:none;background:#fff;color:#404040;caret-color:silver;box-shadow:0 .5rem 1rem #0000001a}.layout[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]::placeholder{color:silver}.layout[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]:focus{outline:none}.layout[_ngcontent-%COMP%]   .input-form[_ngcontent-%COMP%]::placeholder{font-style:italic}.layout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 0 5rem}.layout[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-align:center;margin:0 0 2.5rem;cursor:pointer;color:#fff}.layout[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#6cc2e6}.remember-container[_ngcontent-%COMP%]{display:flex;margin:0rem .5rem 5rem 0rem;width:fit-content}.remember-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .remember-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}@media (min-width: 1024px){.remember-container[_ngcontent-%COMP%]:hover{color:#6cc2e6}}.email[_ngcontent-%COMP%]{margin:0rem 0rem 5rem}.password[_ngcontent-%COMP%]{margin:0rem 0rem 2rem}.form-remember[_ngcontent-%COMP%]{margin:0rem .5rem 0rem 0rem;appearance:none;position:relative;width:1.7rem;height:1.7rem;background-color:#fff;border-radius:.5rem;vertical-align:middle;transition:background .1s ease}.form-remember[_ngcontent-%COMP%]:checked{border-color:transparent;background:#6cc2e6;animation:jelly-42 .6s ease}.form-remember[_ngcontent-%COMP%]:checked:after{opacity:1;transform:rotate(45deg) scale(1)}.form-remember[_ngcontent-%COMP%]:after{content:"";position:absolute;top:.2rem;left:.6rem;width:.5rem;height:1.1rem;opacity:0;transform:rotate(45deg) scale(0);border-right:.2rem solid #fff;border-bottom:.2rem solid #fff;transition:all .3s ease;transition-delay:.15s}']})};export{u as default};
